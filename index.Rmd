---
title: "Smart Collector INEDIT"
output: 
  flexdashboard::flex_dashboard:
    orientation: columns
    vertical_layout: fill
---

```{r setup, include=FALSE}
library(flexdashboard)

# Package for reading InfluxDB
#library(influxdbr)
# install.packages("remotes")
#remotes::install_github("dleutnant/influxdbr")
library(leaflet)
library(tidyverse)
source('R/Places.R')
```

Column {data-width=650}
-----------------------------------------------------------------------

### Deployment of Smart Collectors

```{r}


leafIcons <- icons(
  iconUrl = ifelse(Places$Type == "Education",
    "https://leafletjs.com/examples/custom-icons/leaf-green.png",
    "https://leafletjs.com/examples/custom-icons/leaf-red.png"
  ),
  iconWidth = 38, iconHeight = 95,
  iconAnchorX = 22, iconAnchorY = 94,
  shadowUrl = "https://leafletjs.com/examples/custom-icons/leaf-shadow.png",
  shadowWidth = 50, shadowHeight = 64,
  shadowAnchorX = 4, shadowAnchorY = 62
)




leaflet(Places) %>%
   addTiles() %>%
   setView(lng = Places$Long[1], lat = Places$Lat[1], zoom = 18) %>%  
   #addMarkers(lng = Places$Long, lat = Places$Lat, group = Places$Place) %>% 
   #addPopups(lng = Places$Long, lat = Places$Lat,  popup = Places$Place) %>% 
   addScaleBar(position = "bottomleft") %>% 
   addAwesomeMarkers( lng = Places$Long, lat = Places$Lat, 
                      label = Places$Place, 
                      popup = Places$Type,
                      icon = leafIcons)

#addCircleMarkers  addMarkers(clusterOptions = markerClusterOptions(), popup = "Hi")



```


```{r}
#library(readr)
#data <- read_csv(file = "data/Nancy.csv")
#names(data)


#data <- data %>% filter(code_departement == 54)


```

Column {data-width=350}
-----------------------------------------------------------------------

### Chart B

```{r}

```

### Chart C

```{r}

```

